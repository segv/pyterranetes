shared: set at top
top_only: set at top
